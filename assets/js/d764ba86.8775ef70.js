"use strict";(self.webpackChunkifood_github_io=self.webpackChunkifood_github_io||[]).push([[700],{2393:function(e,t,n){n.r(t),n.d(t,{default:function(){return d}});var r=n(5861),a=n(7757),i=n.n(a),c=n(7294),o=n(4581),s=n(2263),u=n(1590),l=n(6010),p=n(3727),h="center_img_uJUo";function d(){var e=(0,s.default)().siteConfig,t=(0,c.useMemo)((function(){return new u.D(e)}),[]),n=(0,c.useState)(!0),a=n[0],d=n[1],f=(0,c.useState)(!1),m=f[0],v=f[1];return(0,c.useEffect)((function(){var e=window.location.search,n=new URLSearchParams(e).get("code");if(!n)return console.log("an error was found!"),void d(!1);var a=function(){var e=(0,r.Z)(i().mark((function e(){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.signCla(n);case 3:r=e.sent,v(r),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:return e.prev=10,d(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])})));return function(){return e.apply(this,arguments)}}();a()}),[]),c.createElement(o.Z,{title:"Auth",description:"Find out about all of the projects of iFood Open Source."},c.createElement("main",{className:"padding-top--lg padding-bottom--xl"},c.createElement("div",{className:"container"},a&&c.createElement("div",{className:"row"},c.createElement("div",{className:"col"},c.createElement("h1",null,"Just a moment"),c.createElement("p",null,"We're getting it done..."))),m&&c.createElement("div",{className:"row"},c.createElement("div",{className:"col"},c.createElement("h1",null,"Well done"),c.createElement("p",null,"Thanks for signing the CLA. It's a pleasure have you as contribuitor. Learn more about iFood Open Source"," ",c.createElement(p.rU,{to:"/"},"here"))),c.createElement("div",{className:(0,l.Z)("col",h)},c.createElement("img",{src:"/img/undraw_completing.svg"}))),!a&&!m&&c.createElement("div",{className:"row"},c.createElement("div",{className:"col"},c.createElement("h1",null,"Ops"),c.createElement("p",null,"Try again later..."))))))}},1590:function(e,t,n){n.d(t,{D:function(){return s}});var r=n(5861),a=n(7757),i=n.n(a),c=n(9669),o=n.n(c),s=function(){function e(e){this.siteConfig=e,this.env=e.customFields,this.api=o().create({baseURL:this.env.ifoodServiceUrl})}var t=e.prototype;return t.getGHCodeUrl=function(){return this.env.githubUrl+"/authorize?scope=user:email&client_id="+this.env.githubClientId+"&redirect_uri="+this.siteConfig.url+"/auth"},t.getClaText=function(){var e=(0,r.Z)(i().mark((function e(){var t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o().get(this.env.claUrl);case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.signCla=function(){var e=(0,r.Z)(i().mark((function e(t){var n,r,a,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!1,e.prev=1,e.next=4,this.api.post("/github/login",{code:t});case 4:return r=e.sent,a=r.data,e.next=8,this.api.post("/contributor",{},{headers:{authorization:a}});case 8:c=e.sent,c.data,n=!0,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0);case 16:return e.abrupt("return",n);case 17:case"end":return e.stop()}}),e,this,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),e}()}}]);